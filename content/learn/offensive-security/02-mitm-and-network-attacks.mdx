{/* frontmatter removed for clean UI */}

*M_I_T_M Man-in-The-Middle Attack*
Exploiting ARP(address resolution protocol) —>Simple protocol used to map IP address of a machine to it’s MAC addresses. Other useful tools are ARPSpoof, Cain&Abel, Ettercap, BetterCap, ARPPoison.

*Install ARP-Spoof with apt-get install dsniff
Use syntax———>  arpspoof -i [interfaceName] -t [clientIP] [A.P gatewayIP]
Split Terminal——> arpspoof -i [interfaceName] -t [A.P gatewayIP] [clientIP]
Initiate Port-Forwarding----> echo 1 > /proc/sys/net/ipv4/ip_forward

*Evil Twin Attack*
Is when a hacker sets up a fake wifi network that looks like a legitimate access point to steal victims sensitive details/data. How does it work?? 
Start a fake Access Point with the same identical name as the target network. ——> Disconnect/Deauth a connected client ——> Wait for them to connect to the Evil twin/fake access point created, once connected, automatically display a page asking for the network key/password to the target/previous connected access point.
Creating Wifi_Hotspot , first install & build wifi-hotspot from GitHub repo, ensure your wireless adapter is in managed mode and not monitor mode.
—>systemctl start create_ap
—>create_ap wlan0 eth0 wifi_bssid/name


## BetterCap supports GNU/Linux, BSD, Android, Apple macOS and the Microsoft Windows
https://github.com/bettercap/bettercap or apt-get install bettercap
bettercap help && bettercap --help && help BettercapModules
Initiate Bettercap using Network interface to bind to—> betterCap -iface [interfaceName]
Bettercap is made easier with the use of caplets(I.e simultaneously combines commands together), after making a .cap file using regular text editor—>bettercap -iface [interfaceName] -caplet filename.cap
Start by net.probe the Access Points similar to NetDiscover & Nmap(I.e net.recon is auto-configured to switch on), after which you ARP.spoof connected target client(s) to the access points (MITM Attack) *set arp.spoof.fullduplex true*, after which you net.sniff the data resources sent by the target client(s) Transport & Application layer(❌HTTPS) via networking protocols. Remember to use this command to enable IP forwarding while using many network security/sniffing tools on linux *echo 1 > /proc/sys/net/ipv4/ip_forward*.
To Monitor and capture HTTPS traffic we downgrade the network to HTTP using caplets.show find caplet with name *hstshijack* “Learn how to edit this caplets” . This can also be achieved via SSL strip in the http.proxy module set to true.
☞Local UI➡️ If you want both bettercap and the web ui running on your computer, you’ll want to use the http-ui caplet which will start the api.rest and http.server modules on 127.0.0.1.
Edit the default credentials in /usr/local/share/bettercap/caplets/http-ui.cap and then start the ui with: *sudo bettercap -caplet http-ui* Open your browser to http://127.0.0.1/ and login using the credentials you configured in the previous step.
☞Remote UI➡️ If instead you're running bettercap on another host, say on a RaspberryPI or another machine with a different IP address, you want to use the https-ui caplet in order for the connection to the UI and the api to be protected by TLS. The caplet will bind the modules on 0.0.0.0 and generate a self signed certificate you can then allow in your browser. Edit the default credentials in /usr/local/share/bettercap/caplets/https-ui.cap and then start the ui with: *sudo bettercap -caplet https-ui* Open your browser to `https://<ip-of-the-machine>/` and login using the credentials you configured in the previous step.

Javascript Code Injection via Bettercap:===>Research or Create Javascript Malicious Code.js to Inject. Next we edit usr/local/share/bettercap/caplets/hstshijack/hstshijack.cap file by appending the filePath of [Malicious code.js] into the *set hstshijack.payloads* arguments. hstspreload.org Through this website we can copy & paste website URL to detect is HSTS is enabled && https://www.ssllabs.com/ssltest/ to check if SSL is configured properly. To bypass HSTS policy, we can DNS spoof Target. 

DNS Spoofing, therefore we can spoof this req-res protocol by being MITM and redirecting our victims to malicious websites either by Javascript Code Injection or fake HTML pages. Kali has an Apache server, which we start with command —> service apache2 start 
It’s html pages are loaded from “/var/www/html” …Research malicious html pages and replace if need be. Using dns.spoof *help* we can set parameters by appending into our original caplet filename.cap to run sequentially with our previous parameters.

*BEST PRACTICE, CAPTURE DATA PACKETS, SAVE TO A FILE && ANALYSE LATER WITH WIRESHARK*
Using *set net.sniff.output [newCapturedFileName.cap]* this can be added to our sequential caplet file whilst using CLI interface or manually set via the GUI web interface *before switching net.sniff on*
